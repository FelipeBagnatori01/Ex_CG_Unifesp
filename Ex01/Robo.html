<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <title>Robo</title>
  <style>
    body,html { margin:0; height:100%; background:#222; }
    canvas { width:100%; height:100%; display:block; }
  </style>
</head>
<body>
<canvas id="glcanvas"></canvas>

<script>
// ---------- Shaders ----------
const vsSource = `
attribute vec2 aPosition;
void main() {
  gl_Position = vec4(aPosition, 0.0, 1.0);
}
`;
const fsSource = `
precision mediump float;
uniform vec3 uColor;
void main() {
  gl_FragColor = vec4(uColor, 1.0);
}
`;

// ---------- Utilitários ----------
function createShader(gl, type, source) {
  const shader = gl.createShader(type);
  gl.shaderSource(shader, source);
  gl.compileShader(shader);
  if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {
    console.error(gl.getShaderInfoLog(shader));
  }
  return shader;
}
function createProgram(gl, vsSource, fsSource) {
  const vs = createShader(gl, gl.VERTEX_SHADER, vsSource);
  const fs = createShader(gl, gl.FRAGMENT_SHADER, fsSource);
  const program = gl.createProgram();
  gl.attachShader(program, vs);
  gl.attachShader(program, fs);
  gl.linkProgram(program);
  if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {
    console.error(gl.getProgramInfoLog(program));
  }
  return program;
}

// ---------- Inicialização ----------
const canvas = document.getElementById("glcanvas");
const gl = canvas.getContext("webgl");
if (!gl) { alert("WebGL não suportado"); }

// Programa
const program = createProgram(gl, vsSource, fsSource);
gl.useProgram(program);

// Localizações
const aPosition = gl.getAttribLocation(program, "aPosition");
const uColor = gl.getUniformLocation(program, "uColor");

const vertices = new Float32Array([
  // Quadrado de baixo
  -0.2, -0.6,
   0.2, -0.6,
   0.2, 0.2,
  -0.2, -0.6,
   0.2, 0.2,
  -0.2, 0.2,

  // Quadrado de cima
  -0.1,  0.2,
   0.1,  0.2,
   0.1,  0.4,
  -0.1,  0.2,
   0.1,  0.4,
  -0.1,  0.4,

  // Peito
  0.1,  -0.2,
  -0.1, -0.2,
  0.0,  0.0,

  // Olho direito
  0.1, 0.4,
  0.0, 0.3,
  0.1, 0.3,

  // Olho esquerdo
  -0.1, 0.4,
  0.0, 0.3,
  -0.1, 0.3,

  // Braço direito
  0.2, 0.2,
  0.3, 0.2,
  0.3, -0.2,

  // Braço esquerdo
  -0.2, 0.2,
  -0.3, 0.2,
  -0.3, -0.2,

  // Perna direita
  0.2, -0.6,
  0.1, -0.7,
  0.0, -0.6,

  // Perna esquerda
  -0.2, -0.6,
  -0.1, -0.7,
  -0.0, -0.6,
]);

// Buffer
const vbo = gl.createBuffer();
gl.bindBuffer(gl.ARRAY_BUFFER, vbo);
gl.bufferData(gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW);
gl.enableVertexAttribArray(aPosition);
gl.vertexAttribPointer(aPosition, 2, gl.FLOAT, false, 0, 0);

// ---------- Render ----------
gl.clearColor(0.1, 0.1, 0.1, 1);
gl.clear(gl.COLOR_BUFFER_BIT);

// Quadrado de baixo
gl.uniform3fv(uColor, [0.3, 0.3, 0.3]);
gl.drawArrays(gl.TRIANGLES, 0, 6);

// Quadrado de cima
gl.uniform3fv(uColor, [0.3, 0.3, 0.3]);
gl.drawArrays(gl.TRIANGLES, 6, 6);

// Peito
gl.uniform3fv(uColor, [0.0, 0.0, 0.5]);
gl.drawArrays(gl.TRIANGLES, 12, 3);

// Olho direito
gl.uniform3fv(uColor, [0.0, 0.0, 0.5]);
gl.drawArrays(gl.TRIANGLES, 15, 3);

// Olho esquerdo
gl.uniform3fv(uColor, [0.0, 0.0, 0.5]);
gl.drawArrays(gl.TRIANGLES, 18, 3);

// Braço direito
gl.uniform3fv(uColor, [0.3, 0.3, 0.3]);
gl.drawArrays(gl.TRIANGLES, 21, 3);

// Braço esquerdo
gl.uniform3fv(uColor, [0.3, 0.3, 0.3]);
gl.drawArrays(gl.TRIANGLES, 24, 3);

// Perna direita
gl.uniform3fv(uColor, [0.2, 0.2, 0.2]);
gl.drawArrays(gl.TRIANGLES, 27, 3);

// Perna esquerda
gl.uniform3fv(uColor, [0.2, 0.2, 0.2]);
gl.drawArrays(gl.TRIANGLES, 30, 3);
</script>
</body>
</html>



